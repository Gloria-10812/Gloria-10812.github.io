<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>可愛文青行事曆</title>
<style>
/* ====== 你的 CSS 完整保留，僅新增少量樣式 ====== */
body {
    font-family: "Microsoft JhengHei", sans-serif;
    margin: 0;
    padding: 40px;
    color: #444;
    background: linear-gradient(135deg, #ffe4ee 0%, #ffffff 50%, #f0e5ff 100%);
    overflow-x: hidden;
    position: relative;
}

/* 貼紙背景 */
.decor {
    position: absolute;
    width: 50px;
    opacity: 0.3;
    animation: float 6s ease-in-out infinite alternate;
    pointer-events: none;
}

@keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-15px); }
    100% { transform: translateY(0px); }
}

/* ===== 可愛月曆標題 ===== */
.calendar-header {
    background: #ffe4ee;
    width: 520px;
    margin: auto;
    padding: 20px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 6px 12px rgba(0,0,0,0.08);
    position: relative;
}

/* ★★★ 年月下拉新樣式 */
.calendar-select {
    margin-top: 12px;
}
.calendar-select select {
    padding: 8px 12px;
    border-radius: 10px;
    border: 1px solid #ff9fc2;
    font-size: 16px;
    background: white;
}

/* ★★★ 月曆表格 */
#month-calendar {
    width: 520px;
    margin: 20px auto;
    border-collapse: collapse;
    background: white;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 6px 12px rgba(0,0,0,0.08);
}

#month-calendar th {
    background: #ffe4ee;
    padding: 12px;
    font-size: 15px;
}

#month-calendar td {
    height: 60px;
    border: 1px solid #f2dcdc;
    padding: 6px;
    vertical-align: top;
    text-align: right;
    font-size: 15px;
}

.sun { color: #ff5c7a; font-weight: bold; }
.sat { color: #5087ff; font-weight: bold; }

/* ===== 下面的行事曆卡片完全保留 ===== */
.card {
    background: rgba(255, 255, 255, 0.95);
    width: 950px;
    margin: 35px auto;
    padding: 25px;
    border-radius: 20px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.08);
}

/*（你的 CSS 省略，但已完整保留）*/
</style>
</head>
<body>

<!-- Cute Stickers 保留 -->
<img src="stickers/cute_coffee.png" class="decor decor1">
<img src="stickers/cute_book.png" class="decor decor2">
<img src="stickers/cute_plant.png" class="decor decor3">
<img src="stickers/cute_pen.png" class="decor decor4">
<img src="stickers/cute_candle.png" class="decor decor5">
<img src="stickers/cute_cat.png" class="decor decor6">

<!-- ★★★ 年月下拉 + 月曆顯示 -->
<div class="calendar-header">
    <div class="month-title" id="month-title">2025 年 1 月</div>

    <div class="calendar-select">
        <select id="yearSelect"></select>
        <select id="monthSelect"></select>
    </div>
</div>

<table id="month-calendar">
    <thead>
        <tr>
            <th class="sun">日</th>
            <th>一</th>
            <th>二</th>
            <th>三</th>
            <th>四</th>
            <th>五</th>
            <th class="sat">六</th>
        </tr>
    </thead>
    <tbody id="calendarBody"></tbody>
</table>

<!-- ======= 原本的行事曆功能卡片保持不動 ======= -->
<div class="card">
    <!--（你的行事曆輸入區完整保留）-->
    …
</div>

<script>
/* =========================
   ★★★ 新增：自動產生月曆 JS
   ========================= */

const yearSelect = document.getElementById("yearSelect");
const monthSelect = document.getElementById("monthSelect");
const calendarBody = document.getElementById("calendarBody");
const title = document.getElementById("month-title");

let today = new Date();
let currentYear = today.getFullYear();
let currentMonth = today.getMonth();

function initSelectors() {
    for (let y = currentYear - 50; y <= currentYear + 50; y++) {
        let opt = document.createElement("option");
        opt.value = opt.textContent = y;
        yearSelect.appendChild(opt);
    }

    for (let m = 0; m < 12; m++) {
        let opt = document.createElement("option");
        opt.value = m;
        opt.textContent = (m + 1) + " 月";
        monthSelect.appendChild(opt);
    }

    yearSelect.value = currentYear;
    monthSelect.value = currentMonth;
}
initSelectors();

function generateCalendar() {
    let year = parseInt(yearSelect.value);
    let month = parseInt(monthSelect.value);

    title.textContent = `${year} 年 ${month + 1} 月`;

    calendarBody.innerHTML = "";
    let firstDay = new Date(year, month, 1).getDay();
    let lastDate = new Date(year, month + 1, 0).getDate();

    let row = document.createElement("tr");

    for (let i = 0; i < firstDay; i++) row.appendChild(document.createElement("td"));

    for (let d = 1; d <= lastDate; d++) {
        let cell = document.createElement("td");
        cell.textContent = d;

        let weekday = new Date(year, month, d).getDay();
        if (weekday === 0) cell.classList.add("sun");
        if (weekday === 6) cell.classList.add("sat");

        row.appendChild(cell);

        if (row.children.length === 7) {
            calendarBody.appendChild(row);
            row = document.createElement("tr");
        }
    }

    if (row.children.length > 0) {
        while (row.children.length < 7) row.appendChild(document.createElement("td"));
        calendarBody.appendChild(row);
    }
}

yearSelect.onchange = generateCalendar;
monthSelect.onchange = generateCalendar;

generateCalendar();

/* ======= 你原本的 JS 完整保留 ======= */
…
</script>
</body>
</html>
